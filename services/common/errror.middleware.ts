//middleare for handling error and logging